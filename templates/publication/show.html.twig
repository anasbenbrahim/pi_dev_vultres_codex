{% extends 'baseclient.html.twig' %}

{% block title %}Détails de la publication{% endblock %}

{% block body %}











<main class="main">

    <!-- Page Title -->
    <div class="page-title dark-background" data-aos="fade" style="background-image: url(assetsClient/img/page-title-bg.webp);">
      <div class="container position-relative">
        <h1>Blog Details</h1>
        <p>Esse dolorum voluptatum ullam est sint nemo et est ipsa porro placeat quibusdam quia assumenda numquam molestias.</p>
        <nav class="breadcrumbs">
          <ol>
            <li><a href="index.html">Home</a></li>
            <li class="current">Blog Details</li>
          </ol>
        </nav>
      </div>
    </div><!-- End Page Title -->

    <div class="container">
      <div class="row">

        <div class="col-lg-8">

          <!-- Blog Details Section -->
          <section id="blog-details" class="blog-details section">
            <div class="container">

              <article class="article">

                <div class="post-img">
                  <img src="{{ publication.image }}" alt="" class="img-fluid">
                </div>

                <h2 class="title">{{ publication.titre }}</h2>

                <div class="meta-top">
                  <ul>
                    <li class="d-flex align-items-center"><i class="bi bi-person"></i> <a href="blog-details.html">John Doe</a></li>
                    <li class="d-flex align-items-center"><i class="bi bi-clock"></i> <a href="blog-details.html"><time datetime="2020-01-01">Jan 1, 2022</time></a></li>
                    <li class="d-flex align-items-center"><i class="bi bi-chat-dots"></i> <a href="blog-details.html">12 Comments</a></li>
                  </ul>
                </div><!-- End meta top -->

                <div class="content">
                  <p>
                    {{ publication.description }}
                  </p>

                  

                  <blockquote>
                    <p>
                      Et vero doloremque tempore voluptatem ratione vel aut. Deleniti sunt animi aut. Aut eos aliquam doloribus minus autem quos.
                    </p>
                  </blockquote>


                  
                  <img src="assetsClient/img/blog/blog-inside-post.jpg" class="img-fluid" alt="">

                  

                </div><!-- End post content -->

                <div class="meta-bottom">
                  <i class="bi bi-folder"></i>
                  <ul class="cats">
                    <li><a href="#">Business</a></li>
                  </ul>

                  <i class="bi bi-tags"></i>
                  <ul class="tags">
                    <li><a href="#">Creative</a></li>
                    <li><a href="#">Tips</a></li>
                    <li><a href="#">Marketing</a></li>
                  </ul>
                </div><!-- End meta bottom -->

              </article>

            </div>
          </section><!-- /Blog Details Section -->

          <!-- Blog Comments Section -->
          <section id="blog-comments" class="blog-comments section">

            <div class="container">

              <h4 class="comments-count">Comments</h4>

              <div id="comment-1" class="comment">
                <div class="d-flex">
                  <div class="comment-img"><img src="assets/img/blog/comments-1.jpg" alt=""></div>
                  <div>
                    <h5><a href="">Georgia Reader</a> <a href="#" class="reply"><i class="bi bi-reply-fill"></i> Reply</a></h5>
                    <time datetime="2020-01-01">01 Jan,2022</time>
                    <p>
                      Et rerum totam nisi. Molestiae vel quam dolorum vel voluptatem et et. Est ad aut sapiente quis molestiae est qui cum soluta.
                      Vero aut rerum vel. Rerum quos laboriosam placeat ex qui. Sint qui facilis et.
                    </p>
                  </div>
                </div>
              </div><!-- End comment #1 -->



            </div>

          </section><!-- /Blog Comments Section -->

         

        </div>

        <div class="col-lg-4 sidebar">

          <div class="widgets-container">

           

            

            <!--/Comments Widget -->
            <div class="categories-widget widget-item">

            <!-- Comment Form Section -->
          <section id="comment-form" class="comment-form section">
            <div class="container">

              <form action="">

                <h4>Post Comment</h4>

                <p>Your email address will not be published. Required fields are marked * </p>
                <div class="row">
                  <div class="col-md-6 form-group">
                    <input name="name" type="text" class="form-control" placeholder="Your Name*">
                  </div>
                  <div class="col-md-6 form-group">
                    <input name="email" type="text" class="form-control" placeholder="Your Email*">
                  </div>
                </div>
                <div class="row">
                  <div class="col form-group">
                    <input name="website" type="text" class="form-control" placeholder="Your Website">
                  </div>
                </div>
                <div class="row">
                  <div class="col form-group">
                    <textarea name="comment" class="form-control" placeholder="Your Comment*"></textarea>
                  </div>
                </div>

                <div class="text-center">
                  <button type="submit" class="btn btn-primary">Post Comment</button>
                </div>

              </form>

            </div>
          </section><!-- /Comment Form Section -->

              <h3 class="widget-title">Comments</h3>
              <div class="d-flex">
                  <div class="comment-img"><img src="assets/img/blog/comments-1.jpg" alt=""></div>
                  <div>
                    <h5><a href="">Georgia Reader</a></h5>

                    <time datetime="2020-01-01">01 Jan,2022</time>
                    <p>
                      Et rerum totam nisi. Molestiae vel quam dolorum vel voluptatem et et. Est ad aut sapiente quis molestiae est qui cum soluta.
                      Vero aut rerum vel. Rerum quos laboriosam placeat ex qui. Sint qui facilis et.
                    </p>
                  </div>
                </div>

            </div><!--/Comments Widget -->

            

            

          </div>

        </div>

      </div>
    </div>

  </main>





































    <div class="container card mt-3 mb-5 shadow">
        <h1>Publication : {{ publication.titre }}</h1>
        <p><strong>Description :</strong> {{ publication.description }}</p>
        <p><strong>Date :</strong> {{ publication.date|date('d/m/Y H:i') }}</p>

        {% if publication.image %}
            <p><strong>Image :</strong></p>
            <img src="{{ publication.image }}" alt="{{ publication.titre }}" class="img-fluid mb-3" style="border-radius: 10px; width: 500px;">
        {% else %}
            <p><strong>Image :</strong> Pas d'image</p>
        {% endif %}

        <p><strong>Client :</strong>
            {% if client %}
                {{ client.Nom }}
            {% else %}
                <span style="color: red;">Client non défini</span>
            {% endif %}
        </p>

        {% if publication.id is defined %}
            <a href="{{ path('publication_edit', {'id': publication.id}) }}" class="btn btn-warning" title="Modifier la publication">
                <i class="fa fa-edit text-light"></i>
            </a>
        {% endif %}

        <form method="post" action="{{ path('publication_delete', {'id': publication.id}) }}" 
              onsubmit="return confirm('Êtes-vous sûr de vouloir supprimer cette publication ?');" 
              class="d-inline">
            <button type="submit" class="btn btn-danger" title="Supprimer la publication">
                <i class="fa fa-trash"></i>
            </button>
        </form>

        

        <div class="commentaire-section mt-4">
            
            <h1>Créer un commentaire</h1>

        {{ form_start(commentaire_form, {'attr': {'novalidate': 'novalidate'}}) }}

        <div class="form-group">
            {{ form_label(commentaire_form.description) }}
            {{ form_widget(commentaire_form.description, {'attr': {'class': 'form-control'}}) }}
            <div class="text-danger">{{ form_errors(commentaire_form.description) }}</div>
        </div>

        <div class="form-group">
            {{ form_label(commentaire_form.image) }}
            {{ form_widget(commentaire_form.image, {'attr': {'class': 'form-control'}}) }}
            <div class="error">{{ form_errors(commentaire_form.image) }}</div>
        </div>

        <button type="submit" class="btn btn-primary">Créer</button>
       
        {{ form_end(commentaire_form) }}

            <h3>Commentaires :</h3>
            {% for commentaire in commentaires %}
                <div class="commentaire mb-3 p-3" style="border: 1px solid #ddd; border-radius: 10px; background-color: #f9f9f9;">
                    <p><strong>Description :</strong> {{ commentaire.description }}</p>
                    {% if commentaire.image %}
                        <img src="{{ commentaire.image }}" alt="Image du commentaire" class="img-fluid mb-2" style="max-width: 100px; border-radius: 10px;">
                    {% endif %}
                    <div class="commentaire-actions mt-2">
                        
                        {% if commentaire.id is defined %}
                            <a href="{{ path('commentaire_edit', {'id': commentaire.id}) }}" class="btn btn-warning" title="Modifier le commentaire">
                                <i class="fa fa-edit text-light"></i>
                            </a>
                        {% endif %}
                        <form method="post" action="{{ path('commentaire_delete', {'id': commentaire.id}) }}" 
                              onsubmit="return confirm('Êtes-vous sûr de vouloir supprimer ce commentaire ?');" 
                              class="d-inline">
                            <button type="submit" class="btn btn-danger" title="Supprimer le commentaire">
                                <i class="fa fa-trash"></i>
                            </button>
                        </form>
                    </div>
                </div>
            {% else %}
                <p>Aucun commentaire pour cette publication.</p>
            {% endfor %}
        </div>
    </div>
{% endblock %}
